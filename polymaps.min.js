if(!org)var org={};if(!org.polymaps)org.polymaps={};
(function(r){function J(){for(var d=0;d<J.maps.length;d++)J.maps[d].resize()}function P(d){return 360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90}function Q(d){return 180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360))}function U(d,a){if(d.row>a.row){var f=d;d=a;a=f}return{x0:d.column,y0:d.row,x1:a.column,y1:a.row,dx:a.column-d.column,dy:a.row-d.row}}function Z(d,a,f,e,c){f=Math.max(f,Math.floor(a.y0));e=Math.min(e,Math.ceil(a.y1));if(d.x0==a.x0&&d.y0==a.y0?d.x0+a.dy/d.dy*d.dx<a.x1:d.x1-a.dy/
d.dy*d.dx<a.x0){var g=d;d=a;a=g}g=d.dx/d.dy;var i=a.dx/a.dy,m=d.dx>0,q=a.dx<0;for(f=f;f<e;f++){var u=g*Math.max(0,Math.min(d.dy,f+m-d.y0))+d.x0;c(Math.floor(i*Math.max(0,Math.min(a.dy,f+q-a.y0))+a.x0),Math.ceil(u),f)}}function $(d,a,f,e,c,g){var i=U(d,a);a=U(a,f);d=U(f,d);if(i.dy>a.dy){f=i;i=a;a=f}if(i.dy>d.dy){f=i;i=d;d=f}if(a.dy>d.dy){f=a;a=d;d=f}i.dy&&Z(d,i,e,c,g);a.dy&&Z(d,a,e,c,g)}r.version="2.0.2+4";var R={x:0,y:0};r.id=function(){var d=0;return function(){return++d}}();r.svg=function(d){return document.createElementNS(r.ns.svg,
d)};r.ns={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"};r.transform=function(d,a,f,e,c,g){var i={},m,q,u;if(!arguments.length){d=1;a=c=f=0;e=1;g=0}i.zoomFraction=function(n){if(!arguments.length)return q;q=n;m=Math.floor(q+Math.log(Math.sqrt(d*d+a*a+f*f+e*e))/Math.log(2));u=Math.pow(2,-m);return i};i.apply=function(n){var l=Math.pow(2,-n.zoom),h=Math.pow(2,n.zoom-m);return{column:(d*n.column*l+f*n.row*l+c)*h,row:(a*n.column*l+e*n.row*l+g)*h,zoom:n.zoom-m}};i.unapply=function(n){var l=
Math.pow(2,-n.zoom),h=Math.pow(2,n.zoom+m);return{column:(n.column*l*e-n.row*l*f-c*e+g*f)/(d*e-a*f)*h,row:(n.column*l*a-n.row*l*d-c*a+g*d)/(f*a-e*d)*h,zoom:n.zoom+m}};i.toString=function(){return"matrix("+[d*u,a*u,f*u,e*u].join(" ")+" 0 0)"};return i.zoomFraction(0)};r.cache=function(d,a){function f(l){n--;a&&a(l);delete i[l.key];if(l.next)l.next.prev=l.prev;else if(q=l.prev)q.next=null;if(l.prev)l.prev.next=l.next;else if(m=l.next)m.prev=null}function e(){for(var l=q;n>u;l=l.prev){if(!l)break;l.lock||
f(l)}}var c={},g={},i={},m=null,q=null,u=64,n=0;c.peek=function(l){return i[[l.zoom,l.column,l.row].join("/")]};c.load=function(l,h){var o=[l.zoom,l.column,l.row].join("/"),s=i[o];if(s){if(s.prev){if(s.prev.next=s.next)s.next.prev=s.prev;else q=s.prev;s.prev=null;s.next=m;m=m.prev=s}s.lock=1;return g[o]=s}s={key:o,column:l.column,row:l.row,zoom:l.zoom,next:m,prev:null,lock:1};d.call(null,s,h);g[o]=i[o]=s;if(m)m.prev=s;else q=s;m=s;n++;e();return s};c.unload=function(l){if(!(l in g))return false;var h=
g[l];h.lock=0;delete g[l];h.request&&h.request.abort(false)?f(h):e();return h};c.locks=function(){return g};c.size=function(l){if(!arguments.length)return u;u=l;e();return c};return c};r.url=function(d){function a(e){var c=1<<e.zoom,g=e.column%c;if(g<0)g+=c;return d.replace(/{(.)}/g,function(i,m){switch(m){case "S":return f[(e.zoom+e.row+g)%f.length];case "Z":return e.zoom;case "X":return g;case "Y":return e.row;case "B":var q=r.map.coordinateLocation({row:e.row,column:g,zoom:e.zoom}),u=r.map.coordinateLocation({row:e.row+
1,column:g+1,zoom:e.zoom}),n=Math.ceil(Math.log(e.zoom)/Math.LN2);return u.lat.toFixed(n)+","+q.lon.toFixed(n)+","+q.lat.toFixed(n)+","+u.lon.toFixed(n)}return m})}var f=[];a.template=function(e){if(!arguments.length)return d;d=e;return a};a.hosts=function(e){if(!arguments.length)return f;f=e;return a};return a};r.dispatch=function(d){var a={};d.on=function(f,e){for(var c=a[f]||(a[f]=[]),g=0;g<c.length;g++)if(c[g].handler==e)return d;c.push({handler:e,on:true});return d};d.off=function(f,e){var c=
a[f];if(c)for(var g=0;g<c.length;g++){var i=c[g];if(i.handler==e){i.on=false;c.splice(g,1);break}}return d};return function(f){var e=a[f.type];if(e){e=e.slice();for(var c=0;c<e.length;c++){var g=e[c];g.on&&g.handler.call(d,f)}}}};r.queue=function(){function d(){if(!(c>=g||!e.length)){c++;e.pop()()}}function a(i){for(var m=0;m<e.length;m++)if(e[m]==i){e.splice(m,1);return true}return false}function f(i,m,q){function u(){n=new XMLHttpRequest;q&&n.overrideMimeType(q);n.open("GET",i,true);n.onreadystatechange=
function(){if(n.readyState==4){c--;n.status<300&&m(n);d()}};n.send(null)}var n;e.push(u);d();return{abort:function(l){if(a(u))return true;if(l&&n){n.abort();return true}return false}}}var e=[],c=0,g=6;return{text:function(i,m,q){return f(i,function(u){u.responseText&&m(u.responseText)},q)},xml:function(i,m){return f(i,function(q){q.responseXML&&m(q.responseXML)},"application/xml")},json:function(i,m){return f(i,function(q){q.responseText&&m(JSON.parse(q.responseText))},"application/json")},image:function(i,
m,q){function u(){n=document.createElement("img");n.onerror=function(){c--;d()};n.onload=function(){c--;q(n);d()};n.src=m;i.setAttributeNS(r.ns.xlink,"href",m)}var n;e.push(u);d();return{abort:function(l){if(a(u))return true;if(l&&n){n.src="about:";return true}return false}}}}}();r.map=function(){function d(){if(G){var j=45/Math.pow(2,q+u-3),t=Math.max(Math.abs(s*g.x+o*g.y),Math.abs(x*g.x+k*g.y)),w=P(B-t*j/i.y);t=P(H+t*j/i.y);m.lat=Math.max(w,Math.min(t,m.lat));w=Math.max(Math.abs(s*g.y+o*g.x),Math.abs(x*
g.y+k*g.x));m.lon=Math.max(G[0].lon-w*j/i.x,Math.min(G[1].lon+w*j/i.x,m.lon))}}var a={},f,e,c=R,g=R,i={x:256,y:256},m={lat:37.76487,lon:-122.41948},q=12,u=0,n=1,l=[1,18],h=0,o=1,s=0,k=1,x=0,B=-180,H=180,G=[{lat:P(B),lon:-Infinity},{lat:P(H),lon:Infinity}];a.locationCoordinate=function(j){j=r.map.locationCoordinate(j);var t=Math.pow(2,q);j.column*=t;j.row*=t;j.zoom+=q;return j};a.coordinateLocation=r.map.coordinateLocation;a.coordinatePoint=function(j,t){var w=Math.pow(2,q-t.zoom),C=Math.pow(2,q-j.zoom),
E=(t.column*w-j.column*C)*i.x*n;w=(t.row*w-j.row*C)*i.y*n;return{x:g.x+o*E-s*w,y:g.y+s*E+o*w}};a.pointCoordinate=function(j,t){var w=Math.pow(2,q-j.zoom),C=(t.x-g.x)/n,E=(t.y-g.y)/n;return{column:j.column*w+(k*C-x*E)/i.x,row:j.row*w+(x*C+k*E)/i.y,zoom:q}};a.locationPoint=function(j){var t=Math.pow(2,q+u-3)/45,w=(j.lon-m.lon)*t*i.x;j=(Q(m.lat)-Q(j.lat))*t*i.y;return{x:g.x+o*w-s*j,y:g.y+s*w+o*j}};a.pointLocation=function(j){var t=45/Math.pow(2,q+u-3),w=(j.x-g.x)*t;j=(j.y-g.y)*t;return{lon:m.lon+(k*
w-x*j)/i.x,lat:P(Q(m.lat)-(x*w+k*j)/i.y)}};var D=r.svg("rect");D.setAttribute("visibility","hidden");D.setAttribute("pointer-events","all");a.container=function(j){if(!arguments.length)return f;f=j;f.setAttribute("class","map");f.appendChild(D);return a.resize()};a.focusableParent=function(){for(var j=f;j;j=j.parentNode)if(j.tabIndex>=0)return j;return window};a.mouse=function(j){var t=(f.ownerSVGElement||f).createSVGPoint();if(V<0&&(window.scrollX||window.scrollY)){var w=document.body.appendChild(r.svg("svg"));
w.style.position="absolute";w.style.top=w.style.left="0px";var C=w.getScreenCTM();V=!(C.f||C.e);document.body.removeChild(w)}if(V){t.x=j.pageX;t.y=j.pageY}else{t.x=j.clientX;t.y=j.clientY}return t.matrixTransform(f.getScreenCTM().inverse())};a.size=function(j){if(!arguments.length)return c;e=j;return a.resize()};a.resize=function(){if(e){c=e;J.remove(a)}else{var j=f.ownerSVGElement||f;if(j.offsetWidth==null){D.setAttribute("width","100%");D.setAttribute("height","100%");j=D}b=j.getBoundingClientRect();
c={x:b.width,y:b.height};J.add(a)}D.setAttribute("width",c.x);D.setAttribute("height",c.y);g={x:c.x/2,y:c.y/2};d();a.dispatch({type:"resize"});return a};a.tileSize=function(j){if(!arguments.length)return i;i=j;a.dispatch({type:"move"});return a};a.center=function(j){if(!arguments.length)return m;m=j;d();a.dispatch({type:"move"});return a};a.panBy=function(j){var t=45/Math.pow(2,q+u-3),w=j.x*t;j=j.y*t;return a.center({lon:m.lon+(x*j-k*w)/i.x,lat:P(Q(m.lat)+(x*w+k*j)/i.y)})};a.centerRange=function(j){if(!arguments.length)return G;
if(G=j){B=G[0].lat>-90?Q(G[0].lat):-Infinity;H=G[0].lat<90?Q(G[1].lat):Infinity}else{B=-Infinity;H=Infinity}d();a.dispatch({type:"move"});return a};a.zoom=function(j){if(!arguments.length)return q+u;q=Math.max(l[0],Math.min(l[1],j));u=q-(q=Math.round(q));n=Math.pow(2,u);return a.center(m)};a.zoomBy=function(j,t,w){if(arguments.length<2)return a.zoom(q+u+j);if(arguments.length<3)w=a.pointLocation(t);q=Math.max(l[0],Math.min(l[1],q+u+j));u=q-(q=Math.round(q));n=Math.pow(2,u);var C=a.locationPoint(w);
return a.panBy({x:t.x-C.x,y:t.y-C.y})};a.zoomRange=function(j){if(!arguments.length)return l;l=j;return a.zoom(q+u)};a.angle=function(j){if(!arguments.length)return h;h=j;o=Math.cos(h);s=Math.sin(h);k=Math.cos(-h);x=Math.sin(-h);d();a.dispatch({type:"move"});return a};a.add=function(j){j.map(a);return a};a.remove=function(j){j.map(null);return a};a.dispatch=r.dispatch(a);return a};J.maps=[];J.add=function(d){for(var a=0;a<J.maps.length;a++)if(J.maps[a]==d)return;J.maps.push(d)};J.remove=function(d){for(var a=
0;a<J.maps.length;a++)if(J.maps[a]==d){J.maps.splice(a,1);return}};window.addEventListener("resize",J,false);r.map.locationCoordinate=function(d){var a=1/360;return{column:(d.lon+180)*a,row:(180-Q(d.lat))*a,zoom:0}};r.map.coordinateLocation=function(d){var a=45/Math.pow(2,d.zoom-3);return{lon:a*d.column-180,lat:P(180-a*d.row)}};var V=/WebKit/.test(navigator.userAgent)?-1:0;r.layer=function(d,a){function f(){function o(z){var A=z.zoom,F=1<<A,I=z.column%F,N=z.row;if(I<0)I+=F;return{locationPoint:function(M){M=
r.map.locationCoordinate(M);var O=Math.pow(2,A-M.zoom);return{x:D.x*(O*M.column-I),y:D.y*(O*M.row-N)}}}}function s(z,A,F){var I=w.zoom,N=2-E,M=4+E;for(z=z;z<A;z++){var O=c.load({column:z,row:F,zoom:I},o);if(!O.ready&&!(O.key in y)){O.proxyRefs={};for(var S,T,K,L=1;L<=N;L++){T=true;for(var W=0,aa=1<<L;W<=aa;W++)for(var X=0;X<=aa;X++)if((K=c.peek(S={column:(z<<L)+X,row:(F<<L)+W,zoom:I+L}))&&K.ready){y[K.key]=c.load(S);K.proxyCount++;O.proxyRefs[K.key]=K}else T=false;if(T)break}if(!T)for(L=1;L<=M;L++)if((K=
c.peek(S={column:z>>L,row:F>>L,zoom:I-L}))&&K.ready){y[K.key]=c.load(S);K.proxyCount++;O.proxyRefs[K.key]=K;break}}y[O.key]=O}}var k=e.map(),x=k.zoom(),B=x-(x=Math.round(x)),H=k.size(),G=k.angle(),D=k.tileSize(),j=k.locationCoordinate(k.center());i?n.removeAttribute("visibility"):n.setAttribute("visibility","hidden");for(var t=-4;t<=2;t++)h[t].setAttribute("class","zoom"+(t<0?"":"+")+t+" zoom"+(x+t));n.setAttribute("transform","translate("+H.x/2+","+H.y/2+")"+(G?"rotate("+G/Math.PI*180+")":"")+(B?
"scale("+Math.pow(2,B)+")":"")+(l?l.zoomFraction(B):""));var w=k.pointCoordinate(j,R);t=k.pointCoordinate(j,{x:H.x,y:0});var C=k.pointCoordinate(j,H);k=k.pointCoordinate(j,{x:0,y:H.y});if(!B&&!G&&!l){j.column=(Math.round(D.x*j.column)+(H.x&1)/2)/D.x;j.row=(Math.round(D.y*j.row)+(H.y&1)/2)/D.y}var E=m?m(x)-x:0;if(E){B=Math.pow(2,E);w.column*=B;w.row*=B;t.column*=B;t.row*=B;C.column*=B;C.row*=B;k.column*=B;k.row*=B;w.zoom=t.zoom=C.zoom=k.zoom+=E}if(l){w=l.unapply(w);t=l.unapply(t);C=l.unapply(C);k=
l.unapply(k);j=l.unapply(j)}x=c.locks();var y={};for(var v in x)x[v].proxyCount=0;if(i&&E>-5&&E<3){B=1<<Math.max(0,w.zoom);if(g){$(w,t,C,0,B,s);$(C,k,w,0,B,s)}else{C=Math.floor((w.column+C.column)/2);k=Math.max(0,Math.min(B-1,Math.floor((t.row+k.row)/2)));t=Math.min(4,w.zoom);C=C>>t<<t;k=k>>t<<t;s(C,C+1,k)}}for(v in y){t=y[v];B=Math.pow(2,t.level=t.zoom-j.zoom);C=D.x*(t.column-j.column*B);k=D.y*(t.row-j.row*B);t.element.setAttribute("transform","translate("+C+","+k+")")}for(v in x)if(!(v in y)){t=
c.unload(v);t.element.parentNode.removeChild(t.element);delete t.proxyRefs}for(v in y){t=y[v];if(t.element.parentNode!=h[t.level]){h[t.level].appendChild(t.element);e.show&&e.show(t)}}}var e={},c=e.cache=r.cache(d,a).size(512),g=true,i=true,m,q,u,n,l,h;e.map=function(o){if(!arguments.length)return u;if(u){if(u==o){n.parentNode.appendChild(n);return e}u.off("move",f).off("resize",f);n.parentNode.removeChild(n);n=h=null}if(u=o){n=u.container().appendChild(r.svg("g"));q&&n.setAttribute("id",q);n.setAttribute("class",
"layer");h={};for(var s=-4;s<=-1;s++)(h[s]=n.appendChild(r.svg("g"))).setAttribute("transform","scale("+Math.pow(2,-s)+")");for(s=2;s>=1;s--)(h[s]=n.appendChild(r.svg("g"))).setAttribute("transform","scale("+Math.pow(2,-s)+")");h[0]=n.appendChild(r.svg("g"));e.init&&e.init(n);u.on("move",f).on("resize",f);f()}return e};e.container=function(){return n};e.id=function(o){if(!arguments.length)return q;q=o;return e};e.visible=function(o){if(!arguments.length)return i;i=o;u&&f();return e};e.transform=function(o){if(!arguments.length)return l;
l=o;u&&f();return e};e.zoom=function(o){if(!arguments.length)return m;m=typeof o=="function"||o==null?o:function(){return o};return e};e.tile=function(o){if(!arguments.length)return g;g=o;return e};e.dispatch=r.dispatch(e);e.on("load",function(o){if(o.tile.proxyRefs){for(var s in o.tile.proxyRefs){var k=o.tile.proxyRefs[s];--k.proxyCount<=0&&c.unload(s)&&k.element.parentNode.removeChild(k.element)}delete o.tile.proxyRefs}});return e};r.image=function(){var d=r.layer(function(f){var e=f.element=r.svg("image"),
c=d.map().tileSize();e.setAttribute("preserveAspectRatio","none");e.setAttribute("width",c.x);e.setAttribute("height",c.y);e.setAttribute("opacity",0);if(typeof a=="function")f.request=r.queue.image(e,a(f),function(){delete f.request;f.ready=true;e.removeAttribute("opacity");d.dispatch({type:"load",tile:f})});else{f.ready=true;e.setAttributeNS(r.ns.xlink,"href",a);d.dispatch({type:"load",tile:f})}},function(f){f.request&&f.request.abort(true)}),a="about:blank";d.url=function(f){if(!arguments.length)return a;
a=typeof f=="string"&&/{.}/.test(f)?r.url(f):f;return d};return d};r.geoJson=function(d){function a(h,o){var s=o({lat:h[1],lon:h[0]}),k=r.svg("circle");k.setAttribute("r",4.5);k.setAttribute("cx",s.x);k.setAttribute("cy",s.y);return k}function f(h,o,s,k){k.push("M");for(var x=0;x<h.length-o;x++){p=s({lat:h[x][1],lon:h[x][0]});k.push(p.x);k.push(",");k.push(p.y);k.push("L")}k.pop()}function e(h,o,s,k){for(var x=0;x<h.length;x++)f(h[x],o,s,k);o&&k.push("Z")}function c(h,o,s,k){for(var x=[],B=0;B<o.length;B++)h(o[B],
s,k,x);if(x.length){h=r.svg("path");h.setAttribute("d",x.join(""));return h}}var g=r.layer(function(h,o){function s(x){var B=u[h.key]||(u[h.key]=[]),H=[];if(x.next)h.request=d(x.next.href,s);for(var G=0;G<x.features.length;G++){var D=x.features[G],j=D.geometry&&D.geometry.type in l&&l[D.geometry.type](D.geometry,o.locationPoint);if(j){D={element:k.appendChild(j),data:D};B.push(D);H.push(D)}}h.ready=true;g.dispatch({type:"load",tile:h,features:H})}var k=h.element=r.svg("g");o=o(h);if(n)s({features:n});
else h.request=d(i(h),s);q&&k.setAttribute("clip-path","url(#"+q+")")},function(h){h.request&&h.request.abort(true);delete u[h.key]}),i=r.url("about:blank"),m=true,q,u={},n;if(!arguments.length)d=r.queue.json;var l={Point:function(h,o){return a(h.coordinates,o)},MultiPoint:function(h,o){for(var s=r.svg("g"),k=0;k<h.coordinates.length;k++)s.appendChild(a(h.coordinates[k],o));return s},LineString:function(h,o){return c(f,[h.coordinates],0,o)},MultiLineString:function(h,o){return c(f,h.coordinates,0,
o)},Polygon:function(h,o){return c(e,[h.coordinates],1,o)},MultiPolygon:function(h,o){return c(e,h.coordinates||h.coords,1,o)},GeometryCollection:function(h,o){for(var s=r.svg("g"),k=0;k<h.geometries.length;k++){var x=h.geometries[k]&&h.geometries[k].type in l&&l[h.geometries[k].type](h.geometries[k],o);x&&s.appendChild(x)}return s}};g.url=function(h){if(!arguments.length)return i;i=typeof h=="string"?r.url(h):h;return g};g.features=function(h){if(!arguments.length)return n;h&&g.tile(false);n=h;return g};
g.clip=function(h){if(!arguments.length)return m;m=h;return g};g.init=function(h){if(m&&g.tile()){var o=g.map().tileSize(),s=h.insertBefore(r.svg("clipPath"),h.firstChild),k=s.appendChild(r.svg("rect"));s.setAttribute("id",q="org.polymaps."+r.id());k.setAttribute("width",o.x);k.setAttribute("height",o.y)}h.setAttribute("fill-rule","evenodd")};g.show=function(h){g.dispatch({type:"show",tile:h,features:u[h.key]||[]})};g.reshow=function(){var h=g.cache.locks();for(var o in h)g.show(h[o])};return g};
r.dblclick=function(){function d(e){var c=f.zoom();c=e.shiftKey?Math.ceil(c)-c-1:1-c+Math.floor(c);f.zoomBy(c,f.mouse(e))}var a={},f;a.map=function(e){if(!arguments.length)return f;f=e;f.container().addEventListener("dblclick",d,false);return a};return a};r.drag=function(){function d(i){g={x:i.clientX,y:i.clientY};e.focusableParent().focus();i.preventDefault();c=document.body.style.cursor;document.body.style.cursor="move"}function a(i){if(g){e.panBy({x:i.clientX-g.x,y:i.clientY-g.y});g.x=i.clientX;
g.y=i.clientY}}var f={},e,c,g;f.map=function(i){if(!arguments.length)return e;e=i;e.container().addEventListener("mousedown",d,false);return f};window.addEventListener("mousemove",a,false);window.addEventListener("mouseup",function(i){if(g){a(i);g=null;document.body.style.cursor=c}},false);return f};r.wheel=function(){function d(){g=null}function a(m){var q=(m.wheelDelta/120||-m.detail)*0.1,u=i.mouse(m);if(Y<0&&Math.abs(m.wheelDelta)>=4800)Y=1;if(Y==1)q*=0.03;g||(g=i.pointLocation(u));i.off("move",
d);if(c)i.zoomBy(q,u,g);else if(q){var n=Date.now();if(n-e>200){i.zoomBy(q>0?+1:-1,u,g);e=n}}i.on("move",d);m.preventDefault();return false}var f={},e=0,c=true,g,i;f.smooth=function(m){if(!arguments.length)return c;c=m;return f};f.map=function(m){if(!arguments.length)return i;(i=m).on("move",d);var q=i.container();q.addEventListener("mousemove",d,false);q.addEventListener("mousewheel",a,false);q.addEventListener("DOMMouseScroll",a,false);return f};return f};var Y=/WebKit\/533/.test(navigator.userAgent)?
-1:0;r.arrow=function(){function d(l){if(!(l.ctrlKey||l.altKey||l.metaKey)){var h=Date.now(),o=0,s=0,k=0;switch(l.keyCode){case 37:if(!c.left){g=h;c.left=1;c.right||(o=u)}break;case 39:if(!c.right){g=h;c.right=1;c.left||(o=-u)}break;case 38:if(!c.up){g=h;c.up=1;c.down||(s=u)}break;case 40:if(!c.down){g=h;c.down=1;c.up||(s=-u)}break;case 109:case 189:if(!c.plus){g=h;c.plus=1;c.minus||(k=-1)}break;case 61:case 187:if(!c.minus){g=h;c.minus=1;c.plus||(k=1)}break;default:return}if(k){h=n.zoom();n.zoom(k<
0?Math.ceil(h)-1:Math.floor(h)+1)}else if(o||s)n.panBy({x:o,y:s});if(!i&&c.left|c.right|c.up|c.down)i=setInterval(f,q);l.preventDefault()}}function a(l){g=Date.now();switch(l.keyCode){case 37:c.left=0;break;case 39:c.right=0;break;case 38:c.up=0;break;case 40:c.down=0;break;case 109:case 189:c.plus=0;break;case 61:case 187:c.minus=0;break;default:return}if(i&&!(c.left|c.right|c.up|c.down))i=clearInterval(i);l.preventDefault()}function f(){if(n)if(!(Date.now()<g+m)){var l=(c.left-c.right)*u,h=(c.up-
c.down)*u;if(l||h)n.panBy({x:l,y:h})}}var e={},c={left:0,right:0,up:0,down:0,plus:0,minus:0},g=0,i,m=250,q=50,u=16,n;e.map=function(l){if(!arguments.length)return n;n=l;var h=n.focusableParent();h.addEventListener("keydown",d,false);h.addEventListener("keyup",a,false);return e};e.speed=function(l){if(!arguments.length)return u;u=l;return e};return e};r.hash=function(){function d(){var i=g.center(),m=g.zoom(),q=Math.max(0,Math.ceil(Math.log(m)/Math.LN2));i="#"+m.toFixed(2)+"/"+i.lat.toFixed(q)+"/"+
i.lon.toFixed(q);if(e!==i)location.replace(e=i)}function a(){if(location.hash!==e){var i=(e=location.hash).substring(1).split("/").map(Number);if(i.length<3||i.some(isNaN))d();else{var m=g.size();g.zoomBy(i[0]-g.zoom(),{x:m.x/2,y:m.y/2},{lat:Math.min(c,Math.max(-c,i[1])),lon:i[2]})}}}var f={},e,c=89.99999999,g;f.map=function(i){if(!arguments.length)return g;g&&g.off("move",d);(g=i).on("move",d);window.addEventListener("hashchange",a,false);location.hash?a():d();return f};return f};r.interact=function(){var d=
{},a=r.drag(),f=r.wheel(),e=r.dblclick(),c=r.arrow();d.map=function(g){a.map(g);f.map(g);e.map(g);c.map(g);return d};return d};r.compass=function(){function d(y){o.setAttribute("class","compass active");w||(w=setInterval(function(){C&&Date.now()>B+H&&E.panBy(C)},G));C&&E.panBy(C);B=Date.now();m(y)}function a(){o.setAttribute("class","compass");if(w){clearInterval(w);w=0}}function f(y){return function(){y?this.setAttribute("class","active"):this.removeAttribute("class");C=y}}function e(y){return function(v){o.setAttribute("class",
"compass active");var z=E.zoom();E.zoom(y<0?Math.ceil(z)-1:Math.floor(z)+1);m(v)}}function c(y){return function(v){E.zoom(y);m(v)}}function g(){this.setAttribute("class","active")}function i(){this.removeAttribute("class")}function m(y){y.stopPropagation();y.preventDefault()}function q(y){var v=Math.SQRT1_2*k,z=k*0.7,A=k*0.2,F=r.svg("g"),I=F.appendChild(r.svg("path")),N=F.appendChild(r.svg("path"));I.setAttribute("class","direction");I.setAttribute("pointer-events","all");I.setAttribute("d","M0,0L"+
v+","+v+"A"+k+","+k+" 0 0,1 "+-v+","+v+"Z");N.setAttribute("class","chevron");N.setAttribute("d","M"+A+","+(z-A)+"L0,"+z+" "+-A+","+(z-A));N.setAttribute("pointer-events","none");F.addEventListener("mousedown",d,false);F.addEventListener("mouseover",f(y),false);F.addEventListener("mouseout",f(null),false);F.addEventListener("dblclick",m,false);return F}function u(y){var v=k*0.4,z=v/2,A=r.svg("g"),F=A.appendChild(r.svg("path")),I=A.appendChild(r.svg("path")),N=A.appendChild(r.svg("path")),M=A.appendChild(r.svg("path"));
F.setAttribute("class","back");F.setAttribute("d","M"+-v+",0V"+-v+"A"+v+","+v+" 0 1,1 "+v+","+-v+"V0Z");I.setAttribute("class","direction");I.setAttribute("d",F.getAttribute("d"));N.setAttribute("class","chevron");N.setAttribute("d","M"+-z+","+-v+"H"+z+(y>0?"M0,"+(-v-z)+"V"+-z:""));M.setAttribute("class","fore");M.setAttribute("fill","none");M.setAttribute("d",F.getAttribute("d"));A.addEventListener("mousedown",e(y),false);A.addEventListener("mouseover",g,false);A.addEventListener("mouseout",i,false);
A.addEventListener("dblclick",m,false);return A}function n(y){var v=k*0.2,z=k*0.4,A=r.svg("g"),F=A.appendChild(r.svg("rect")),I=A.appendChild(r.svg("path"));F.setAttribute("pointer-events","all");F.setAttribute("fill","none");F.setAttribute("x",-z);F.setAttribute("y",-0.75*z);F.setAttribute("width",2*z);F.setAttribute("height",1.5*z);I.setAttribute("class","chevron");I.setAttribute("d","M"+-v+",0H"+v);A.addEventListener("mousedown",c(y),false);A.addEventListener("dblclick",m,false);return A}function l(){if(o){var y=
k+6,v=y,z=E.size();switch(D){case "top-left":break;case "top-right":y=z.x-y;break;case "bottom-left":v=z.y-v;break;case "bottom-right":y=z.x-y;v=z.y-v;break}o.setAttribute("transform","translate("+y+","+v+")");for(var A in s)A==E.zoom()?s[A].setAttribute("class","active"):s[A].removeAttribute("class")}}var h={},o,s={},k=30,x=16,B=0,H=250,G=50,D="top-left",j="small",t="small",w,C,E;h.radius=function(y){if(!arguments.length)return k;k=y;return h};h.speed=function(y){if(!arguments.length)return k;x=
y;return h};h.position=function(y){if(!arguments.length)return D;D=y;return h};h.pan=function(y){if(!arguments.length)return t;t=y;return h};h.zoom=function(y){if(!arguments.length)return j;j=y;return h};h.map=function(y){if(!arguments.length)return E;if(E){o.parentNode.removeChild(o);E.off("move",l).off("resize",l)}if(E=y){E.on("move",l).on("resize",l);o=E.container().appendChild(r.svg("g"));o.setAttribute("class","compass");if(t!="none"){var v=o.appendChild(r.svg("g"));v.setAttribute("class","pan");
var z=v.appendChild(r.svg("circle"));z.setAttribute("class","back");z.setAttribute("r",k);v.appendChild(q({x:0,y:-x})).setAttribute("transform","rotate(0)");v.appendChild(q({x:x,y:0})).setAttribute("transform","rotate(90)");v.appendChild(q({x:0,y:x})).setAttribute("transform","rotate(180)");v.appendChild(q({x:-x,y:0})).setAttribute("transform","rotate(270)");v=v.appendChild(r.svg("circle"));v.setAttribute("fill","none");v.setAttribute("class","fore");v.setAttribute("r",k);window.addEventListener("mouseup",
a,false)}if(j!="none"){v=o.appendChild(r.svg("g"));v.setAttribute("class","zoom");z=-0.5;if(j=="big"){s={};var A=E.zoomRange()[0];for(z=0;A<=E.zoomRange()[1];A++,z++)(s[A]=v.appendChild(n(A))).setAttribute("transform","translate(0,"+-(z+0.75)*k*0.4+")")}A=t=="none"?0.4:2;v.setAttribute("transform","translate(0,"+k*(/^top-/.test(D)?A+(z+0.5)*0.4:-A)+")");v.appendChild(u(+1)).setAttribute("transform","translate(0,"+-(z+0.5)*k*0.4+")");v.appendChild(u(-1)).setAttribute("transform","scale(-1)")}l()}return h};
return h};r.grid=function(){function d(){var c=e.firstChild,g=f.size(),i=f.pointLocation(R);f.pointLocation(g);var m=Math.pow(2,4-Math.round(f.zoom()));i.lat=Math.floor(i.lat/m)*m;i.lon=Math.ceil(i.lon/m)*m;for(var q;(q=f.locationPoint(i).x)<=g.x;i.lon+=m){c||(c=e.appendChild(r.svg("line")));c.setAttribute("x1",q);c.setAttribute("x2",q);c.setAttribute("y1",0);c.setAttribute("y2",g.y);c=c.nextSibling}for(;(q=f.locationPoint(i).y)<=g.y;i.lat-=m){c||(c=e.appendChild(r.svg("line")));c.setAttribute("y1",
q);c.setAttribute("y2",q);c.setAttribute("x1",0);c.setAttribute("x2",g.x);c=c.nextSibling}for(;c;){g=c.nextSibling;e.removeChild(c);c=g}}var a={},f,e;a.map=function(c){if(!arguments.length)return f;f=c;f.on("move",d);f.on("resize",d);if(!e){e=r.svg("g");e.setAttribute("class","grid")}f.container().appendChild(e);d();return a};return a}})(org.polymaps);
